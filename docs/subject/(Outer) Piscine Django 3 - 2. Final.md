# Subject 번역

> 오늘은 장고로 AJAX와 웹소켓을 어떻게 사용하는지 배울 것입니다.

## General rules

-   당신의 프로젝트는 반드시 VM위에서 구현해야 합니다.
-   당신의 VM은 프로젝트를 완료하기 위한 필요한 모든 소프트웨어가 설치되어 있고, 설정되어 있어야 합니다.
-   VM의 운영체제는 자유롭게 선택할 수 있습니다.
-   VM을 클러스터 컴퓨터에서 사용할 수 있어야 합니다.
-   VM과 호스트 머신 간 공유 폴더를 사용해야만 합니다.
-   평가 도중, 작업물을 옮기기 위해 이 공유 폴더를 사용할 것입니다.
-   당신의 함수들은 UB를 제외하고 예기치 못하게 종료되어선 안됩니다. (Seg fault, bus error, double free 등) 발생 시, 프로젝트가 정상 동작하지 않는 것으로 간주하고 0점을 받게 됩니다.
-   제출할 필요가 없고 채점되지 않더라도, 프로젝트에 대한 테스트 프로그램을 만드는 것이 좋습니다. 이렇게 하면 자신의 작업과 동료의 작업을 쉽게 테스트할 수 있습니다. 이러한 테스트는 디펜스 중에 특히 유용합니다. 실제로 디펜스 중에는 자신의 테스트 및/또는 평가하는 동료의 테스트를 자유롭게 사용할 수 있습니다.
-   할당된 git 저장소에 작업을 제출합니다. git 저장소에 있는 작업만 채점됩니다. 작업 채점을 위해 Deepthought이 배정된 경우, 동료 평가가 끝난 후에 채점이 이루어집니다. Deepthought이 채점하는 동안 작업의 어느 부분에서든 오류가 발생하면 평가가 중지됩니다.

## 추가되는 규칙

-   사용 가능한 JavaScript 라이브러리는 오직 `JQuery` 입니다.
-   레포는 하나의 장고 LTS 프로젝트의 형태여야 합니다. 예제마다 프로젝트를 분리하지 마세요. 각 예제는 프로젝트에 기능을 추가하게 될 겁니다. 기능과 그것의 구현은 채점될 것 입니다.
-   기본 관리 애플리케이션을 종료해야 합니다.
-   프로젝트와 함께 프로젝트에서 실행해야 하는 라이브러리가 나열된 requirement.txt 파일('pip freeze' 명령어 사용)을 제출해야 합니다.

## Ex 00

> 예제 0: AjAX my formulah!
>
> `ex00/` 폴더에 제출

`d09` 라는 이름의 새 프로젝트를 만드세요. 이 프로젝트에서는 `account` 라는 이름의 애플리케이션을 만들 것입니다.

이 예제의 목표는 AJAX를 통해서만 통신하는 연결/연결 해제 시스템을 설계하는 것입니다.

이 애플리케이션에서는 컨텍스트에 따라 2가지 다른 동작을 수행하는 페이지로 통하는 `127.0.0.1:8000/account` URL을 구현하게 될 것입니다.

-   유저가 연결되지 않았다면:
    -   페이지는 반드시 표준 연결 폼 (로그인, 패스워드) 을 표시해야 합니다.
    -   문제는 서버와의 통신은 `AJAX`만 사용해야 하며, 연결하려면 `POST` 유형이어야 한다는 것입니다.
    -   폼이 유효하지 않다면, 페이지에 오류가 나타나야만 합니다.
    -   폼이 유효하다면, 사라지고 새로운 동작을 수행해야 합니다.
    -   당연하게도, 페이지가 새로고침되면 안됩니다.
-   유저가 이미 연결되었다면:
    -   페이지는 반드시 `"Logged as <user>"` 텍스트를 표시합니다. `<user>`는 연결된 유저의 이름으로 대체되어야 하며, `Logout` 버튼을 통해 연결을 해제할 수 있습니다.
    -   이 버튼은 서버와 `AJAX`를 통해 `POST` 메서드로 통신해야 합니다.
    -   로그아웃한 후에는 텍스트와 버튼이 더 이상 페이지에 표시되지 않아야 하며, 다른 동작이 적용되어야 합니다.
    -   당연하게도, 페이지가 새로고침되면 안됩니다.
-   만약 페이지가 수동으로 새로고침 되었다면, 새로 고치기 전의 동작으로 돌아가야 합니다(오류 표시가 포함되지 않음).
-   부트스트랩을 사용할 수 있습니다.

> 인증 폼은 자유롭게!

## Ex 01

> 예제 1: 기본 챗
>
> `ex01/` 폴더에 제출

`chat` 이름으로 애플리케이션을 만드세요. 이 애플리케이션에서는 3개의 링크를 표시하는 페이지를 만들어야 합니다. 각각 다른 `chatrooms`로 연결됩니다.

이 방의 이름들은 데이터베이스에 있어야 합니다. 적절한 모델을 생성하세요.

이러한 각 링크는 표준 기능 채팅이 포함된 다른 페이지로 연결되어야 합니다. 각 채팅은 다음과 같은 사양을 갖추어야 합니다:

-   서버와 통신하기 위한 `Websockets` 뿐만 아니라 유일한 프론트엔드 라이브러리로 `jquery`를 사용해야 합니다(`AJAX` 금지).
-   연결된 유저에게만 허용됩니다.
-   어딘가에 채팅 이름이 표시되어야 합니다.
-   여러 사용자가 연결할 수 있어야 합니다. (만약을 대비하여...)
-   유저가 메시지를 보낼 수 있습니다. (예상 하셨죠?)
-   유저가 보낸 메시지가 채팅방에 들어와있는 다른 모든 유저들에게 보여야만 합니다. (채팅방이 뭔지 다들 아시죠? 서브젝트에 있는 서문은 다들 읽어보셨나요?) (역: 서문에는 프랑스에서 고양이는 `chat` 이라고 부른다고, 고양이에 대한 이야기가 적혀있음)
-   메시지는 하단에 표시되어야 하며, 메시지를 게시한 사용자의 이름과 함께 오름차순(히터 옆에 있는게, 당신거에요.)으로 표시되어야 합니다.
-   메시지가 사라져서는 안됩니다. 메시지가 이전 것을 대체하면 안됩니다. 메시지의 순서가 뒤바뀌거나 변경되어서는 안됩니다.
-   유저가 채팅방에 들어왔을 때, `<username> has joined the chat` 메시지가 입장한 사람을 포함하여 모든 유저에게 보여야 합니다. 당연하게도 `<username>`은 입장한 사람의 이름으로 대체되어야 합니다.

## Ex 02

> 예제 2: 기록
>
> `ex02/` 폴더에 제출

이 예제에서는, 메시지에 기록을 추가하여 채팅을 개선할 것입니다.

새 사용자가 대화방에 참여하면, 이 대화방에 게시된 최근 세 개의 메시지를 가장 오래된 것부터 가장 최근 것까지 위에서 아래로 볼 수 있어야 합니다. 다시 한 번 말씀드리지만, 서버와 통신하기 위한 프론트엔드 라이브러리 및 웹소켓으로 `JQuery`만 사용할 수 있습니다.

## Ex 03

> 예제 3: 유저 목록
>
> `ex03/` 폴더에 제출

이 예제에서는, 연결된 유저 목록을 추가하여 채팅을 다시 개선해 보겠습니다. 유저 목록은 스스로 갱신됩니다.

유저가 채팅방에 입장할 때, 반드시 연결된 유저 목록에 접근할 수 있어야 합니다. (새로 들어온 사람도 목록에 표시되어야 합니다.)

이 유저리스트는 반드시 메시지 목록(다른 `<div>` 또는 다른 HTML 컨테이너)과는 별도로 명확하게 설정되어야 합니다.

유저가 채팅방에 입장할 때, 해당 유저의 이름이 연결된 다른 유저들과 함께 목록에 표시되어야 합니다.

유저가 채팅방을 떠날 때, 해당 유저의 이름은 반드시 연결된 유저 목록에서 사라져야 합니다. `<username> has left the chat` 이라는 메시지가 표시되어야 합니다. (당연하게도 `<username>` 에는 나간 사용자의 이름이 들어가야 합니다.)

다시 한 번 말씀드리지만, 서버와 통신하기 위한 프론트엔드 라이브러리 및 웹소켓으로 `JQuery`만 사용할 수 있습니다.

> 무엇보다 먼저, 기능적인 로직을 구축하려고 노력하세요. 우리가 아직 최적화를 요구하고 있지 않음에도 불구하고요...

## Ex 04

> 예제 4: 스크롤
>
> `ex04/` 폴더에 제출

메시지 목록을 고정된 크기의 컨테이너로 설정하여 채팅을 보기 좋게 만드세요. 메시지 수가 컨테이너를 초과하면 메시지는 위쪽에서 사라지고 측면에 스크롤 막대가 나타나야 합니다.
또한 스크롤 막대는 항상 커서가 아래로 내려간 상태로 표시되어 마지막 메시지가 항상 먼저 표시되어야 합니다.
